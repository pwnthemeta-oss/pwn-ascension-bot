âœ… STEP 1 â€” Update Main Menu

Replace the Dice Battle button with a Games button.

Open:

ascension-engine/modules/menu.py


Find this section:

[InlineKeyboardButton("ğŸ”¥ Grind", callback_data="prof_grind")],
[InlineKeyboardButton("ğŸ… Badges", callback_data="badge_main")],
[InlineKeyboardButton("ğŸ† Leaderboards", callback_data="lb_xp")],
[InlineKeyboardButton("ğŸ“… Challenges", callback_data="ch_main")],
# OLD
[InlineKeyboardButton("ğŸ² Dice Battle", callback_data="dice_start")],


Replace with:

[InlineKeyboardButton("ğŸ® Games", callback_data="games_main")],


Now the Main Menu shows a Games section, not individual games.

âœ… STEP 2 â€” Create the Games Menu Module

Create this file:

ascension-engine/modules/games.py


Paste this:

"""
modules/games.py
Games hub menu â€” lists all available mini-games.
"""

from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from database import get_user
from ui.components import render_text


def handle_games_callback(bot, update):
    query = update.callback_query
    data = query.data
    user_id = query.from_user.id
    user = get_user(user_id)

    # Games home screen
    if data == "games_main":
        return _show_games_menu(bot, update)

    # Forward into specific games
    if data.startswith("game_"):
        # Example: game_dice â†’ route to dice game
        game = data.replace("game_", "")
        if game == "dice":
            from modules.dice_battle import _start_battle
            return _start_battle(bot, update)

    # Default fallback
    return query.answer("Unknown game.")


def _show_games_menu(bot, update):
    query = update.callback_query
    user = get_user(query.from_user.id)

    text = render_text(user,
        "ğŸ® *GAMES*\n\n"
        "Choose a game to play and earn XP!\n"
    )

    keyboard = InlineKeyboardMarkup([
        [InlineKeyboardButton("ğŸ² Dice Battle", callback_data="game_dice")],
        # Future:
        # [InlineKeyboardButton("âš¡ Tap Speed Test", callback_data="game_tapspeed")],
        # [InlineKeyboardButton("ğŸ§  Memory Match", callback_data="game_memory")],
        # [InlineKeyboardButton("âš”ï¸ PVP Duel", callback_data="game_pvp")],
        [InlineKeyboardButton("ğŸ  Menu", callback_data="menu_main")],
    ])

    query.edit_message_text(
        text=text,
        parse_mode="Markdown",
        reply_markup=keyboard
    )


This is the main Games hub, and all games will appear here.

âœ… STEP 3 â€” Add Games Support to Router

Open:

ascension-engine/router.py


Add import:

from modules.games import handle_games_callback


Add inside callback routes:

if data.startswith("games") or data.startswith("game_"):
    return handle_games_callback(bot, update)